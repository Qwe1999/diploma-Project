<div>
    <div class="row justify-content-center">
        <div class="col-md-8">
            <h1 jhiTranslate="register.title">Registration</h1>
            <div class="alert alert-success" *ngIf="success" jhiTranslate="register.messages.success">
                <strong>Registration saved!</strong> Please check your email for confirmation.
            </div>

            <div class="alert alert-danger" *ngIf="error" jhiTranslate="register.messages.error.fail">
                <strong>Registration failed!</strong> Please try again later.
            </div>


            <div class="alert alert-danger" *ngIf="errorEmailExists" jhiTranslate="register.messages.error.emailexists">
                <strong>Email is already in use!</strong> Please choose another one.
            </div>

            <div class="alert alert-danger" *ngIf="doNotMatch" jhiTranslate="global.messages.error.dontmatch">
                The password and its confirmation do not match!
            </div>
        </div>
    </div>

    <div class="row justify-content-center">
        <div class="col-md-8">
            <form name="form" role="form" (ngSubmit)="register()" [formGroup]="registerForm" *ngIf="!success">
                <div class="form-group">
                    <label class="form-control-label" for="email" jhiTranslate="global.form.email.label">Email</label>
                    <input type="email" class="form-control" id="email" name="email"
                           placeholder="{{ 'global.form.email.placeholder' | translate }}"
                           formControlName="email">

                    <div
                        *ngIf="registerForm.get('email')!.invalid && registerForm.get('email')!.touched">
                        <small class="form-text text-danger"
                               *ngIf="registerForm.get('email')?.errors?.required"
                               jhiTranslate="global.messages.validate.email.required">
                            Your email is required.
                        </small>

                        <small class="form-text text-danger"
                               *ngIf="registerForm.get('email')?.errors?.invalid"
                               jhiTranslate="global.messages.validate.email.invalid">
                            Your email is invalid.
                        </small>

                        <small class="form-text text-danger"
                               *ngIf="registerForm.get('email')?.errors?.minlength"
                               jhiTranslate="global.messages.validate.email.minlength">
                            Your email is required to be at least 5 characters.
                        </small>

                        <small class="form-text text-danger"
                               *ngIf="registerForm.get('email')?.errors?.maxlength"
                               jhiTranslate="global.messages.validate.email.maxlength">
                            Your email cannot be longer than 100 characters.
                        </small>
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-control-label" for="password" jhiTranslate="global.form.newpassword.label">New
                        password</label>
                    <input type="password" class="form-control" id="password" name="password"
                           placeholder="{{ 'global.form.newpassword.placeholder' | translate }}"
                           formControlName="password">

                    <div
                        *ngIf="registerForm.get('password')!.invalid && registerForm.get('password')!.touched">
                        <small class="form-text text-danger"
                               *ngIf="registerForm.get('password')?.errors?.required"
                               jhiTranslate="global.messages.validate.newpassword.required">
                            Your password is required.
                        </small>

                        <small class="form-text text-danger"
                               *ngIf="registerForm.get('password')?.errors?.minlength"
                               jhiTranslate="global.messages.validate.newpassword.minlength">
                            Your password is required to be at least 4 characters.
                        </small>

                        <small class="form-text text-danger"
                               *ngIf="registerForm.get('password')?.errors?.maxlength"
                               jhiTranslate="global.messages.validate.newpassword.maxlength">
                            Your password cannot be longer than 50 characters.
                        </small>
                    </div>

                    <jhi-password-strength-bar
                        [passwordToCheck]="registerForm.get('password')!.value"></jhi-password-strength-bar>
                </div>

                <div class="form-group">
                    <label class="form-control-label" for="confirmPassword"
                           jhiTranslate="global.form.confirmpassword.label">New password confirmation</label>
                    <input type="password" class="form-control" id="confirmPassword" name="confirmPassword"
                           placeholder="{{ 'global.form.confirmpassword.placeholder' | translate }}"
                           formControlName="confirmPassword">

                    <div
                        *ngIf="registerForm.get('confirmPassword')!.invalid && registerForm.get('confirmPassword')!.touched">
                        <small class="form-text text-danger"
                               *ngIf="registerForm.get('confirmPassword')?.errors?.required"
                               jhiTranslate="global.messages.validate.confirmpassword.required">
                            Your confirmation password is required.
                        </small>

                        <small class="form-text text-danger"
                               *ngIf="registerForm.get('confirmPassword')?.errors?.minlength"
                               jhiTranslate="global.messages.validate.confirmpassword.minlength">
                            Your confirmation password is required to be at least 4 characters.
                        </small>

                        <small class="form-text text-danger"
                               *ngIf="registerForm.get('confirmPassword')?.errors?.maxlength"
                               jhiTranslate="global.messages.validate.confirmpassword.maxlength">
                            Your confirmation password cannot be longer than 50 characters.
                        </small>
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-control-label" for="country">Country</label>
                    <input type="text" class="form-control" id="country" name="country" formControlName="country"
                           placeholder="{{ '' | translate }}"
                    >

                    <div
                        *ngIf="registerForm.get('country')!.invalid &&  registerForm.get('country')!.touched">
                        <small class="form-text text-danger"
                               *ngIf="registerForm.get('country')?.errors?.required"
                               jhiTranslate="global.messages.validate.confirmpassword.required">
                            Your country is required.
                        </small>

                        <small class="form-text text-danger"
                               *ngIf="registerForm.get('country')?.errors?.maxlength"
                               jhiTranslate="global.messages.validate.confirmpassword.maxlength">
                            Your country cannot be longer than 100 characters.
                        </small>
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-control-label" for="firstName">First Name</label>
                    <input type="text" class="form-control" id="firstName" name="firstName" formControlName="firstName"
                           placeholder="{{ '' | translate }}"
                    >

                    <div
                        *ngIf="registerForm.get('firstName')!.invalid &&  registerForm.get('firstName')!.touched">
                        <small class="form-text text-danger"
                               *ngIf="registerForm.get('firstName')?.errors?.required"
                               jhiTranslate="global.messages.validate.confirmpassword.required">
                            Your first name is required.
                        </small>

                        <small class="form-text text-danger"
                               *ngIf="registerForm.get('firstName')?.errors?.maxlength"
                               jhiTranslate="global.messages.validate.confirmpassword.maxlength">
                            Your first Name cannot be longer than 100 characters.
                        </small>
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-control-label" for="lastName">First Name</label>
                    <input type="text" class="form-control" id="lastName" name="lastName" formControlName="lastName"
                           placeholder="{{ '' | translate }}"
                    >

                    <div
                        *ngIf="registerForm.get('lastName')!.invalid &&  registerForm.get('lastName')!.touched">
                        <small class="form-text text-danger"
                               *ngIf="registerForm.get('lastName')?.errors?.required"
                               jhiTranslate="global.messages.validate.confirmpassword.required">
                            Your last name is required.
                        </small>

                        <small class="form-text text-danger"
                               *ngIf="registerForm.get('lastName')?.errors?.maxlength"
                               jhiTranslate="global.messages.validate.confirmpassword.maxlength">
                            Your last Name cannot be longer than 100 characters.
                        </small>
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-control-label" for="region">Region</label>
                    <input type="text" class="form-control" id="region" formControlName="region" name="region" placeholder="{{ '' | translate }}"
                    >

                    <div
                        *ngIf="registerForm.get('region')!.invalid && registerForm.get('region')!.touched">
                        <small class="form-text text-danger"
                               *ngIf="registerForm.get('region')?.errors?.required"
                               jhiTranslate="global.messages.validate.confirmpassword.required">
                            Your region is required.
                        </small>

                        <small class="form-text text-danger"
                               *ngIf="registerForm.get('region')?.errors?.maxlength"
                               jhiTranslate="global.messages.validate.confirmpassword.maxlength">
                            Your region cannot be longer than 100 characters.
                        </small>
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-control-label" for="locality">Locality</label>
                    <input type="text" class="form-control" id="locality" name="locality" formControlName="locality"
                           placeholder="{{ '' | translate }}"
                    >

                    <div
                        *ngIf="registerForm.get('locality')!.invalid &&  registerForm.get('locality')!.touched">
                        <small class="form-text text-danger"
                               *ngIf="registerForm.get('locality')?.errors?.required"
                               jhiTranslate="global.messages.validate.confirmpassword.required">
                            Your locality is required.
                        </small>

                        <small class="form-text text-danger"
                               *ngIf="registerForm.get('locality')?.errors?.maxlength"
                               jhiTranslate="global.messages.validate.confirmpassword.maxlength">
                            Your locality cannot be longer than 100 characters.
                        </small>
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-control-label" for="streat">Streat</label>
                    <input type="text" class="form-control" id="streat" formControlName="streat" name="streat" placeholder="{{ '' | translate }}"
                    >

                    <div
                        *ngIf="registerForm.get('streat')!.invalid &&  registerForm.get('streat')!.touched">
                        <small class="form-text text-danger"
                               *ngIf="registerForm.get('streat')?.errors?.required"
                               jhiTranslate="global.messages.validate.confirmpassword.required">
                            Your streat is required.
                        </small>

                        <small class="form-text text-danger"
                               *ngIf="registerForm.get('streat')?.errors?.maxlength"
                               jhiTranslate="global.messages.validate.confirmpassword.maxlength">
                            Your streat cannot be longer than 100 characters.
                        </small>
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-control-label" for="building">Building</label>
                    <input type="text" class="form-control" id="building" formControlName="building" name="building"
                           placeholder="{{ '' | translate }}"
                    >

                    <div
                        *ngIf="registerForm.get('building')!.invalid &&  registerForm.get('building')!.touched">
                        <small class="form-text text-danger"
                               *ngIf="registerForm.get('building')?.errors?.required"
                               jhiTranslate="global.messages.validate.confirmpassword.required">
                            Your building is required.
                        </small>

                        <small class="form-text text-danger"
                               *ngIf="registerForm.get('building')?.errors?.maxlength"
                               jhiTranslate="global.messages.validate.confirmpassword.maxlength">
                            Your building cannot be longer than 100 characters.
                        </small>
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-control-label" for="apartment">Apartment</label>
                    <input type="text" class="form-control" id="apartment" formControlName="apartment" name="apartment"
                           placeholder="{{ '' | translate }}"
                    >

                    <div
                        *ngIf="registerForm.get('apartment')!.invalid &&  registerForm.get('apartment')!.touched">
                        <small class="form-text text-danger"
                               *ngIf="registerForm.get('apartment')?.errors?.maxlength"
                               jhiTranslate="global.messages.validate.confirmpassword.maxlength">
                            Your apartment cannot be longer than 100 characters.
                        </small>
                    </div>
                </div>

                <div class="form-group" *ngIf="isPatient()">
                    <label class="form-control-label" for="job">Job</label>
                    <input type="text" class="form-control" id="job" name="job" formControlName="job" placeholder="{{ '' | translate }}"
                    >

                    <div
                        *ngIf="registerForm.get('job')!.invalid && registerForm.get('job')!.touched">
                        <small class="form-text text-danger"
                               *ngIf="registerForm.get('job')?.errors?.maxlength"
                               jhiTranslate="global.messages.validate.confirmpassword.maxlength">
                            Your job cannot be longer than 100 characters.
                        </small>
                    </div>
                </div>


                <div class="form-group" *ngIf="isPatient()">
                    <label class="form-control-label" for="bloodType">Blood Type</label>
                    <select class="form-control" id="bloodType" name="bloodType" formControlName="bloodType">
                        <option [ngValue]="null"></option>
                        <option *ngFor="let type of bloodTypes;" [ngValue]="type">
                            {{ type }}</option>
                    </select>
                </div>

                <div class="form-group" *ngIf="isPatient()">
                    <label class="form-control-label" for="allergy">Allergy</label>
                    <input type="text" class="form-control" id="allergy" name="allergy" formControlName="allergy"
                           placeholder="{{ '' | translate }}"
                    >

                    <div
                        *ngIf="registerForm.get('allergy')!.invalid && registerForm.get('allergy')!.touched">
                        <small class="form-text text-danger"
                               *ngIf="registerForm.get('allergy')?.errors?.maxlength"
                               jhiTranslate="global.messages.validate.confirmpassword.maxlength">
                            Your allergy cannot be longer than 100 characters.
                        </small>
                    </div>
                </div>


                <div class="form-group" *ngIf="isDoctor()" >
                    <label class="form-control-label" for="position">Position</label>
                    <input type="text" class="form-control" id="position" name="position" formControlName="position"
                           placeholder="{{ '' | translate }}"
                    >

                    <div
                        *ngIf="registerForm.get('position')!.invalid &&  registerForm.get('position')!.touched">
                        <small class="form-text text-danger"
                               *ngIf="registerForm.get('position')?.errors?.maxlength"
                               jhiTranslate="global.messages.validate.confirmpassword.maxlength">
                            Your position cannot be longer than 100 characters.
                        </small>
                    </div>
                </div>


                <div class="form-group" *ngIf="isDoctor()">
                    <label class="form-control-label" for="room">Room</label>
                    <input type="text" class="form-control" id="room" name="room" formControlName="room" placeholder="{{ '' | translate }}">

                    <div
                        *ngIf="registerForm.get('room')!.invalid && registerForm.get('room')!.touched">
                        <small class="form-text text-danger"
                               *ngIf="registerForm.get('room')?.errors?.maxlength"
                               jhiTranslate="global.messages.validate.confirmpassword.maxlength">
                            Your room cannot be longer than 100 characters.
                        </small>
                    </div>
                </div>


                <!--                <div class="form-group">-->
                <!--                    <label class="form-control-label" for="daysWork" >daysWork</label>-->
                <!--                    <input type="text" class="form-control" id="daysWork" name="daysWork" placeholder="{{ '' | translate }}"-->
                <!--                    >-->

                <!--                    <div *ngIf="registerForm.get('daysWork')!.invalid && (registerForm.get('daysWork')!.dirty || registerForm.get('daysWork')!.touched)">-->
                <!--                        <small class="form-text text-danger"-->
                <!--                               *ngIf="registerForm.get('country')?.errors?.maxlength"-->
                <!--                               jhiTranslate="global.messages.validate.confirmpassword.maxlength">-->
                <!--                            Your daysWork cannot be longer than 100 characters.-->
                <!--                        </small>-->
                <!--                    </div>-->
                <!--                </div>-->

                <!--                <div class="form-group">-->
                <!--                    <label class="form-control-label" for="workingHour" >workingHour</label>-->
                <!--                    <input type="text" class="form-control" id="workingHour" name="workingHour" placeholder="{{ '' | translate }}"-->
                <!--                    >-->

                <!--                    <div *ngIf="registerForm.get('workingHour')!.invalid && (registerForm.get('workingHour')!.dirty || registerForm.get('workingHour')!.touched)">-->
                <!--                        <small class="form-text text-danger"-->
                <!--                               *ngIf="registerForm.get('country')?.errors?.maxlength"-->
                <!--                               jhiTranslate="global.messages.validate.confirmpassword.maxlength">-->
                <!--                            Your workingHour cannot be longer than 100 characters.-->
                <!--                        </small>-->
                <!--                    </div>-->
                <!--                </div>-->

                <button type="submit"  class="btn btn-primary" formControlName="form"
                        jhiTranslate="register.form.button">Register
                </button>
            </form>

            <div class="mt-3 alert alert-warning">
                <span jhiTranslate="global.messages.info.authenticated.prefix">If you want to </span>
                <a class="alert-link" (click)="openLogin()" jhiTranslate="global.messages.info.authenticated.link">sign
                    in</a><span jhiTranslate="global.messages.info.authenticated.suffix">, you can try the default accounts:<br/>- Administrator (login="admin" and password="admin") <br/>- User (login="user" and password="user").</span>
            </div>
        </div>
    </div>
</div>
